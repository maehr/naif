(function(s,g){typeof exports=="object"&&typeof module=="object"?module.exports=g():typeof define=="function"&&define.amd?define([],g):typeof exports=="object"?exports.stickyThead=g():s.stickyThead=g()})(window,function(){return H={},s.m=g=[function(t,l,p){"use strict";function w(o){var n=o.getBoundingClientRect();return{top:n.top+window.pageYOffset,left:n.left+window.pageXOffset}}function h(o){if(o==window)return window.innerHeight;if(o==document)return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight);var n=parseFloat(getComputedStyle(o,null).height.replace("px",""));return n||o.offsetHeight}function v(o){if(o==window)return window.innerWidth;if(o==document)return Math.max(document.documentElement.clientWidth,document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth);var n=parseFloat(getComputedStyle(o,null).width.replace("px",""));return n||o.offsetWidth}function m(o,n){for(var r in n)o.style[r]=n[r]}function x(o,n,r){var $=new CustomEvent(o,r?{}:{details:r});n.dispatchEvent($)}p.r(l),p.d(l,"apply",function(){return E});var S={_storage:new WeakMap,put:function(o,n,r){this._storage.has(o)||this._storage.set(o,new Map),this._storage.get(o).set(n,r)},get:function(o,n){var r=this._storage.get(o);return r&&r.get(n)},remove:function(o,n){var r=this._storage.get(o);if(r){var $=r.delete(n);return!r.size===0&&this._storage.delete(o),$}}};function E(o,n){var r="stickyThead",$=0,A={fixedOffset:0,leftOffset:0,marginTop:0,objDocument:document,objHead:document.head,objWindow:window,scrollableArea:window,cacheHeaderHeight:!1,zIndex:3};function C(b,y){var e=this;e.el=b,e.id=$++,e.$clonedHeader=null,e.$originalHeader=null,e.cachedHeaderHeight=null,e.isSticky=!1,e.hasBeenSticky=!1,e.leftOffset=null,e.topOffset=null,e.init=function(){e.setOptions(y),e.el.style.padding="0px",e.$originalHeader=e.el.querySelector("thead"),e.$clonedHeader=e.$originalHeader.cloneNode(!0),x("clonedHeader."+r,e.el,e.$clonedHeader),e.$clonedHeader.setAttribute("class","tableFloatingHeader"),m(e.$clonedHeader,{display:"none",opacity:0}),e.$originalHeader.setAttribute("class","tableFloatingHeaderOriginal"),e.$originalHeader.insertAdjacentElement("afterend",e.$clonedHeader);var i=document.createElement("style");i.setAttribute("type","text/css"),i.setAttribute("media","print"),i.innerHTML=".tableFloatingHeader{display:none !important;}.tableFloatingHeaderOriginal{position:static !important;}",e.$printStyle=i,e.$head.appendChild(e.$printStyle),e.$clonedHeader.querySelectorAll("input, select").forEach(function(d){d.setAttribute("disabled",!0)}),e.updateWidth(),e.toggleHeaders(),e.bind()},e.destroy=function(){e.el&&e.el.removeEventListener("destroyed",e.teardown),e.teardown()},e.teardown=function(){e.isSticky&&m(e.$originalHeader,{position:"static"}),S.remove(e.el,r),e.unbind(),e.$clonedHeader.parentNode.removeChild(e.$clonedHeader),e.$originalHeader.classList.remove("tableFloatingHeaderOriginal"),m(e.$originalHeader,{visibility:"visible"}),e.$printStyle.parentNode.removeChild(e.$printStyle),e.el=null,e.$el=null},e.bind=function(){e.$scrollableArea.addEventListener("scroll",e.toggleHeaders),e.isWindowScrolling||(e.$window.addEventListener("scroll",e.setPositionValues),e.$window.addEventListener("resize",e.toggleHeaders)),e.$scrollableArea.addEventListener("resize",e.toggleHeaders),e.$scrollableArea.addEventListener("resize",e.updateWidth)},e.unbind=function(){e.$scrollableArea.removeEventListener("scroll",e.toggleHeaders),e.isWindowScrolling||(e.$window.removeEventListener("scroll",e.setPositionValues),e.$window.removeEventListener("resize",e.toggleHeaders)),e.$scrollableArea.removeEventListener("resize",e.updateWidth)},e.debounce=function(i,d){var a=null;return function(){var u=this,c=arguments;clearTimeout(a),a=setTimeout(function(){i.apply(u,c)},d)}},e.toggleHeaders=e.debounce(function(){if(e.el){var i,d,a,u=e.isWindowScrolling?isNaN(e.options.fixedOffset)?e.options.fixedOffset.offsetHeight:e.options.fixedOffset:w(e.$scrollableArea).top+(isNaN(e.options.fixedOffset)?0:e.options.fixedOffset),c=w(e.el),f=e.$scrollableArea.pageYOffset+u,O=e.$scrollableArea.pageXOffset,W=e.isWindowScrolling?f>c.top:u>c.top;W&&(d=e.options.cacheHeaderHeight?e.cachedHeaderHeight:h(e.$originalHeader),a=(e.isWindowScrolling?f:0)<c.top+h(e.el)-d-(e.isWindowScrolling?0:u)),W&&a?(i=c.left-O+e.options.leftOffset,m(e.$originalHeader,{position:"fixed",marginTop:e.options.marginTop+"px",top:0,left:i+"px",zIndex:e.options.zIndex}),e.leftOffset=i,e.topOffset=u,e.$clonedHeader.style.display="",e.isSticky||(e.isSticky=!0,e.updateWidth(),x("enabledStickiness."+r,e.el)),e.setPositionValues()):e.isSticky&&(e.$originalHeader.style.position="static",e.$clonedHeader.style.display="none",e.isSticky=!1,e.resetWidth(e.$clonedHeader.querySelectorAll("td,th"),e.$originalHeader.querySelectorAll("td,th")),x("disabledStickiness."+r,e.el))}},0),e.setPositionValues=e.debounce(function(){var i=e.$window.pageYOffset,d=e.$window.pageXOffset;!e.isSticky||i<0||i+h(e.$window)>h(e.$document)||d<0||d+v(e.$window)>v(e.$document)||m(e.$originalHeader,{top:e.topOffset-(e.isWindowScrolling?0:i)+"px",left:e.leftOffset-(e.isWindowScrolling?0:d)+"px"})},0),e.updateWidth=e.debounce(function(){if(e.isSticky){e.$originalHeaderCells||(e.$originalHeaderCells=e.$originalHeader.querySelectorAll("th,td")),e.$clonedHeaderCells||(e.$clonedHeaderCells=e.$clonedHeader.querySelectorAll("th,td"));var i=e.getWidth(e.$clonedHeaderCells);e.setWidth(i,e.$clonedHeaderCells,e.$originalHeaderCells),e.$originalHeader.style.width=v(e.$clonedHeader),e.options.cacheHeaderHeight&&(e.cachedHeaderHeight=h(e.$clonedHeader))}},0),e.getWidth=function(i){var d=[];return i.forEach(function(a,u){var c;if(getComputedStyle(a).boxSizing==="border-box"){var f=a.getBoundingClientRect();c=f.width?f.width:f.right-f.left}else if(e.$originalHeader.querySelector("th").style.borderCollapse==="collapse")if(window.getComputedStyle)c=parseFloat(window.getComputedStyle(a,null).width);else{var O=parseFloat(a.style.paddingLeft),W=parseFloat(a.style.paddingRight),j=parseFloat(a.style.borderWidth);c=a.offsetWidth-O-W-j}else c=v(a);d[u]=c}),d},e.setWidth=function(i,d,a){d.forEach(function(u,c){var f=i[c];m(a[c],{minWidth:f+"px",maxWidth:f+"px"})})},e.resetWidth=function(i,d){i.forEach(function(a,u){m(d[u],{minWidth:b.style.minWidth,maxWidth:b.style.maxWidth})})},e.setOptions=function(i){var d,a;e.options=(d=i,a=A,Object.keys(d||{}).forEach(function(u){a[u]=d[u]}),a),e.$window=e.options.objWindow,e.$head=e.options.objHead,e.$document=e.options.objDocument,e.$scrollableArea=e.options.scrollableArea,e.isWindowScrolling=e.$scrollableArea===e.$window},e.updateOptions=function(i){e.setOptions(i),e.unbind(),e.bind(),e.updateWidth(),e.toggleHeaders()},e.el.addEventListener("destroyed",e.teardown.bind(e)),e.init()}return o.forEach(function(b){var y=S.get(b,r);y?typeof n=="string"?y[n].apply(y):y.updateOptions(n):n!=="destroy"&&S.put(b,r,new C(b,n))})}window.dataStore=S,typeof window.CustomEvent!="function"&&(window.CustomEvent=function(o,n){n=n||{bubbles:!1,cancelable:!1,detail:null};var r=document.createEvent("CustomEvent");return r.initCustomEvent(o,n.bubbles,n.cancelable,n.detail),r})}],s.c=H,s.d=function(t,l,p){s.o(t,l)||Object.defineProperty(t,l,{enumerable:!0,get:p})},s.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,l){if(1&l&&(t=s(t)),8&l||4&l&&typeof t=="object"&&t&&t.__esModule)return t;var p=Object.create(null);if(s.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:t}),2&l&&typeof t!="string")for(var w in t)s.d(p,w,function(h){return t[h]}.bind(null,w));return p},s.n=function(t){var l=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(l,"a",l),l},s.o=function(t,l){return Object.prototype.hasOwnProperty.call(t,l)},s.p="",s(s.s=0);function s(t){if(H[t])return H[t].exports;var l=H[t]={i:t,l:!1,exports:{}};return g[t].call(l.exports,l,l.exports,s),l.l=!0,l.exports}var g,H});
