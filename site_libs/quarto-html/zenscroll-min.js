(function(y,d){typeof define=="function"&&define.amd?define([],d()):typeof module=="object"&&module.exports?module.exports=d():function g(){document&&document.body?y.zenscroll=d():setTimeout(g,9)}()})(this,function(){"use strict";var y=function(t){return t&&"getComputedStyle"in window&&window.getComputedStyle(t)["scroll-behavior"]==="smooth"};if(typeof window>"u"||!("document"in window))return{};var d=function(t,n,o){n=n||999,o||o===0||(o=9);var r,s=function(e){r=e},h=function(){clearTimeout(r),s(0)},m=function(e){return Math.max(0,t.getTopOf(e)-o)},a=function(e,i,u){if(h(),i===0||i&&i<0||y(t.body))t.toY(e),u&&u();else{var l=t.getY(),w=Math.max(0,e)-l,p=new Date().getTime();i=i||Math.min(Math.abs(w),n),function T(){s(setTimeout(function(){var f=Math.min(1,(new Date().getTime()-p)/i),H=Math.max(0,Math.floor(l+w*(f<.5?2*f*f:f*(4-2*f)-1)));t.toY(H),f<1&&t.getHeight()+H<t.body.scrollHeight?T():(setTimeout(h,99),u&&u())},9))}()}},Y=function(e,i,u){a(m(e),i,u)},x=function(e,i,u){var l=e.getBoundingClientRect().height,w=t.getTopOf(e)+l,p=t.getHeight(),T=t.getY(),f=T+p;m(e)<T||l+o>p?Y(e,i,u):w+o>f?a(w-p+o,i,u):u&&u()},E=function(e,i,u,l){a(Math.max(0,t.getTopOf(e)-t.getHeight()/2+(u||e.getBoundingClientRect().height/2)),i,l)};return{setup:function(e,i){return(e===0||e)&&(n=e),(i===0||i)&&(o=i),{defaultDuration:n,edgeOffset:o}},to:Y,toY:a,intoView:x,center:E,stop:h,moving:function(){return!!r},getY:t.getY,getTopOf:t.getTopOf}},g=document.documentElement,b=function(){return window.scrollY||g.scrollTop},c=d({body:document.scrollingElement||document.body,toY:function(t){window.scrollTo(0,t)},getY:b,getHeight:function(){return window.innerHeight||g.clientHeight},getTopOf:function(t){return t.getBoundingClientRect().top+b()-g.offsetTop}});if(c.createScroller=function(t,n,o){return d({body:t,toY:function(r){t.scrollTop=r},getY:function(){return t.scrollTop},getHeight:function(){return Math.min(t.clientHeight,window.innerHeight||g.clientHeight)},getTopOf:function(r){return r.offsetTop}},n,o)},"addEventListener"in window&&!window.noZensmooth&&!y(document.body)){var O="history"in window&&"pushState"in history,v=O&&"scrollRestoration"in history;v&&(history.scrollRestoration="auto"),window.addEventListener("load",function(){v&&(setTimeout(function(){history.scrollRestoration="manual"},9),window.addEventListener("popstate",function(t){t.state&&"zenscrollY"in t.state&&c.toY(t.state.zenscrollY)},!1)),window.location.hash&&setTimeout(function(){var t=c.setup().edgeOffset;if(t){var n=document.getElementById(window.location.href.split("#")[1]);if(n){var o=Math.max(0,c.getTopOf(n)-t),r=c.getY()-o;0<=r&&r<9&&window.scrollTo(0,o)}}},9)},!1);var M=new RegExp("(^|\\s)noZensmooth(\\s|$)");window.addEventListener("click",function(t){for(var n=t.target;n&&n.tagName!=="A";)n=n.parentNode;if(!(!n||t.which!==1||t.shiftKey||t.metaKey||t.ctrlKey||t.altKey)){if(v){var o=history.state&&typeof history.state=="object"?history.state:{};o.zenscrollY=c.getY();try{history.replaceState(o,"")}catch{}}var r=n.getAttribute("href")||"";if(r.indexOf("#")===0&&!M.test(n.className)){var s=0,h=document.getElementById(r.substring(1));if(r!=="#"){if(!h)return;s=c.getTopOf(h)}t.preventDefault();var m=function(){window.location=r},a=c.setup().edgeOffset;a&&(s=Math.max(0,s-a),O&&(m=function(){history.pushState({},"",r)})),c.toY(s,null,m)}}},!1)}return c});
